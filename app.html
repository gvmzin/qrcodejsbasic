<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>QR Code Generator</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <link rel="stylesheet" href="css/estilo.css" />
</head>
<body>
    <div class="usuario-header">
  <span id="usuarioLogado">ðŸ‘¤ UsuÃ¡rio: </span>
  <button id="sairBtn">Sair</button>
</div>

    <h1>Gerador de QRCODE</h1>
  <div class="central">
<div class="input-group">
  <input type="text" id="apelido" placeholder="Apelido do QR Code" />
  <input type="text" id="url" placeholder="Link para o QR Code" />
  <button id="botao">â–¶</button>
  <a href="historico.html"><button id="historicoBtn">ðŸ“œ</button></a>
</div>

    <div id="codeqr"></div>
  </div>
  <script src="js/script.js"></script>
  <script>
  const usuarioSpan = document.getElementById('usuarioLogado');
  const sairBtn = document.getElementById('sairBtn');

  // Verifica login
  const logado = localStorage.getItem("logado");
  const usuarios = Object.keys(localStorage).filter(key => key.startsWith("user:"));

  if (!logado || usuarios.length === 0) {
    window.location.href = "index.html"; // redireciona se nÃ£o estiver logado
  } else {
    // Exibe nome do primeiro usuÃ¡rio logado
    const userKey = usuarios.find(key => localStorage.getItem("logado") === "sim");
    const nome = userKey.replace("user:", "");
    usuarioSpan.textContent = `ðŸ‘¤ UsuÃ¡rio: ${nome}`;
  }

  // FunÃ§Ã£o de sair
  sairBtn.addEventListener("click", () => {
    localStorage.removeItem("logado");
    window.location.href = "login.html";
  });
</script>

</body>
</html>
